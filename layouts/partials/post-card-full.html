{{ $page := . }}
{{ $forceFullBody := false }}
{{ if reflect.IsMap . }}
  {{ with index . "page" }}
    {{ $page = . }}
  {{ end }}
  {{ $forceFullBody = or (index . "forceFullBody") false }}
{{ end }}
{{ $isLink := and $page.Params.formats (in $page.Params.formats "link") $page.Params.external_url }}
<article class="entry-full">
  <header class="entry-full__header">
    {{ partial "post-meta.html" $page }}
    <h2 class="entry-full__title">
      {{ if $isLink }}
        <a href="{{ $page.Params.external_url }}" rel="noopener noreferrer">{{ $page.Title }}</a>
      {{ else }}
        <a href="{{ $page.RelPermalink }}">{{ $page.Title }}</a>
      {{ end }}
    </h2>
    {{ if $isLink }}
      <p class="entry-full__source" data-pagefind-ignore>
        <a href="{{ $page.Params.external_url }}" rel="noopener noreferrer">원문</a>
        <span>·</span>
        <a href="{{ $page.RelPermalink }}">내 글</a>
      </p>
    {{ end }}
  </header>

  <div class="entry-full__body prose-body">
    {{ if $forceFullBody }}
      {{ $page.Content }}
    {{ else }}
      {{ partial "post-list-body.html" $page }}
    {{ end }}
  </div>
</article>
